## 2026-01-19 - Timezone Double Shift in Stock Calculation
**Learning:** `calculateStockAtDate` uses `parseToWIB(toWIBISOString(date))` which applies the timezone offset TWICE (once in `toWIBISOString` and again in `parseToWIB`). This effectively shifts the date by +14 hours (Jakarta is UTC+7) or more relative to expected "Start of Day", often pushing it to the NEXT day's 00:00 (End of Day). This behavior was preserved during optimization to ensure compatibility with existing stock validation logic (which effectively checks End-Of-Day stock).
**Action:** When working with `calculateStockAtDate` or timezone functions, be aware that "Start of Day" might actually mean "End of Today/Start of Tomorrow" due to this shifting. Do not fix this "bug" without validating impact on stock validation logic.
