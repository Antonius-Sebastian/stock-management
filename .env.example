# ============================================
# Stock Management System - Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# ============================================

# ============================================
# DATABASE CONFIGURATION
# ============================================

# Primary database connection (with connection pooling)
# Used for: Application queries
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?pgbouncer=true
# Example with Supabase: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres?pgbouncer=true
DATABASE_URL="postgresql://user:password@localhost:6543/stock_management?pgbouncer=true"

# Direct database connection (without connection pooling)
# Used for: Prisma migrations and schema operations
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# Example with Supabase: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:5432/postgres
DIRECT_URL="postgresql://user:password@localhost:5432/stock_management"

# ============================================
# AUTHENTICATION CONFIGURATION
# ============================================

# NextAuth Secret
# IMPORTANT: Generate a secure random string using:
#   openssl rand -base64 32
# NEVER use the default value in production!
# Must be at least 32 characters
NEXTAUTH_SECRET="your-super-secret-key-change-this-in-production"

# NextAuth URL
# Development: http://localhost:3000
# Production: https://yourdomain.com
# IMPORTANT: Must match your actual domain in production
NEXTAUTH_URL="http://localhost:3000"

# Auth Secret (should be the same as NEXTAUTH_SECRET)
# Required by NextAuth v5
AUTH_SECRET="your-super-secret-key-change-this-in-production"

# ============================================
# OPTIONAL: NODE ENVIRONMENT
# ============================================

# Current environment
# Values: development | production | test
# Default: development
# NODE_ENV="development"

# ============================================
# OPTIONAL: MONITORING & LOGGING
# ============================================

# Sentry DSN (for error tracking)
# Get from: https://sentry.io
# SENTRY_DSN=""

# Log level
# Values: error | warn | info | debug
# LOG_LEVEL="info"

# ============================================
# OPTIONAL: FEATURE FLAGS
# ============================================

# Enable debug mode
# Values: true | false
# DEBUG="false"

# Enable verbose logging
# Values: true | false
# VERBOSE_LOGGING="false"

# ============================================
# SETUP INSTRUCTIONS
# ============================================
#
# 1. Copy this file:
#    cp .env.example .env
#
# 2. Generate secure secrets:
#    openssl rand -base64 32
#
# 3. Update the following REQUIRED variables:
#    - DATABASE_URL (your Supabase or PostgreSQL connection)
#    - DIRECT_URL (direct database connection)
#    - NEXTAUTH_SECRET (generated secret)
#    - NEXTAUTH_URL (your domain)
#    - AUTH_SECRET (same as NEXTAUTH_SECRET)
#
# 4. Run database migrations:
#    npx prisma db push
#
# 5. Seed initial data (optional):
#    npx prisma db seed
#
# 6. Start development server:
#    npm run dev
#
# ============================================
# SECURITY NOTES
# ============================================
#
# ⚠️  NEVER commit .env to version control!
# ⚠️  Use different secrets for dev/staging/prod
# ⚠️  Rotate secrets periodically (every 3-6 months)
# ⚠️  Store production secrets in secure vault
# ⚠️  Enable HTTPS in production
# ⚠️  Use strong database passwords
#
# ✅  .env is in .gitignore by default
# ✅  Only .env.example should be in git
#
# ============================================
# SUPABASE QUICK SETUP
# ============================================
#
# 1. Create project at https://supabase.com/dashboard
#
# 2. Go to Settings → Database
#
# 3. Copy connection strings:
#    - Transaction pooler (port 6543) → DATABASE_URL
#    - Direct connection (port 5432) → DIRECT_URL
#
# 4. Replace [PASSWORD] with your database password
#
# Example:
# DATABASE_URL="postgresql://postgres.abc123:MyPassword@aws-0-us-east-1.pooler.supabase.com:6543/postgres?pgbouncer=true"
# DIRECT_URL="postgresql://postgres.abc123:MyPassword@aws-0-us-east-1.pooler.supabase.com:5432/postgres"
#
# ============================================
# LOCAL POSTGRESQL SETUP
# ============================================
#
# If using local PostgreSQL instead of Supabase:
#
# DATABASE_URL="postgresql://stock_user:your_password@localhost:5432/stock_management"
# DIRECT_URL="postgresql://stock_user:your_password@localhost:5432/stock_management"
#
# Note: Connection pooling not needed for local development
#
# ============================================
# VERCEL DEPLOYMENT
# ============================================
#
# Add environment variables via CLI:
#   vercel env add DATABASE_URL
#   vercel env add DIRECT_URL
#   vercel env add NEXTAUTH_SECRET
#   vercel env add NEXTAUTH_URL
#   vercel env add AUTH_SECRET
#
# Or via Vercel dashboard:
#   Project Settings → Environment Variables
#
# ============================================
# DOCKER DEPLOYMENT
# ============================================
#
# Pass environment variables to container:
#   docker run -e DATABASE_URL="..." -e NEXTAUTH_SECRET="..." ...
#
# Or use docker-compose.yml with env_file:
#   env_file:
#     - .env.production
#
# ============================================
# TROUBLESHOOTING
# ============================================
#
# Error: "Invalid DATABASE_URL"
# → Check connection string format
# → Ensure database is accessible
# → Verify username/password
#
# Error: "JWT secret not set"
# → Ensure NEXTAUTH_SECRET and AUTH_SECRET are set
# → Must be at least 32 characters
#
# Error: "Prisma Client not initialized"
# → Run: npx prisma generate
#
# Error: "Cannot connect to database"
# → Check DATABASE_URL is correct
# → Ensure database server is running
# → Check firewall/network settings
#
# For more help, see:
# - DEPLOYMENT.md (deployment guide)
# - STATUS.md (current project status)
# - KNOWN_ISSUES.md (common problems)
#
# ============================================

# End of .env.example
